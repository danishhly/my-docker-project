name: CI Pipeline

# 1. Trigger: Run on every push to the 'main' branch
on:
  push:
    branches: [ "main" ]

# 2. Jobs: The work to be done
jobs:
  build-and-test:
    # 3. Runner: Use a free Ubuntu VM provided by GitHub
    runs-on: ubuntu-latest

    # 4. Steps: The checklist
    steps:
      # A. Check out the code from the repo
      - name: Checkout Code
        uses: actions/checkout@v3

      # B. Set up Python (or Node, Java, etc.)
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      # C. Install dependencies
      - name: Install Libraries
        run: |
          pip install flake8 pytest
          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

      # D. Run Tests
      - name: Run Tests
        run: echo "No tests yet"
